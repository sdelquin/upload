{% extends "base.html" %} {% block container %}
<div class="row">
  <h1>Subir nuevo fichero</h1>
  <p class="text-muted small">Una sencilla herramienta de subida de ficheros hecha con <i class="bi bi-heart"></i> por @sdelquin</p>
</div>
<div class="row">
  <div class="col-md-5">
    <form method="post" enctype="multipart/form-data">
      {# File #}
      <div class="mb-3">
        <label for="formFile" class="form-label">
          <i class="bi bi-file-earmark-plus"></i>
          Tu fichero:
        </label>
        <input class="form-control" type="file" id="formFile" name="file" required>
        <div class="form-text">
          Extensiones permitidas: {{ ', '.join(allowed_extensions) }}
        </div>
      </div>

      {# Name #}
      <div class="mb-3">
        <label for="name" class="form-label">
          <i class="bi bi-person"></i>
          Tu nombre:
        </label>
        <input type="text" name="name" id="name" class="form-control" required>
        <div class="form-text">
          No incluyas apellido! Sólo tu nombre de pila...
        </div>
      </div>

      {# Password #}
      <div class="mb-3">
        <label for="password" class="form-label">
          <i class="bi bi-key"></i>
          Tu contraseña:
        </label>
        <input type="password" name="password" id="password" class="form-control" required>
      </div>

      {# Context #}
      <div class="mb-3">
        <label for="context" class="form-label">
          <i class="bi bi-context"></i>
          Tu contexto:
        </label>
        <select type="text" name="context" id="context" class="form-select" required>
          <option disabled selected value> --- </option>
          {% for context in contexts %}
            <option value="{{ context.name }}">{{ context.description }}</option>
          {% endfor %}
        </select>
        <div class="form-text">
          Los ficheros con mismo nombre y contexto será sobreescritos
        </div>
      </div>

      {# Button #}
      <div class="mb-3">
        <button type="submit" class="btn btn-primary mb-3">
          <i class="bi bi-cloud-upload"></i>
          Subir
        </button>
      </div>
    </form>
  </div>
  <div class="col-md-4 col-sm-8 text-center">
    <img
      class="hero-image"
      src="{{ url_for('static', filename='upload-story.gif') }}"
      alt="Upload story"
    />
    <div class="credits">
      <a href="https://storyset.com/user">User illustrations by Storyset</a>
    </div>
  </div>
</div>
{% endblock %}
